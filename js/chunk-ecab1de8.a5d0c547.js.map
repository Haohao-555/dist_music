{"version":3,"sources":["webpack:///./src/pages/Singer.vue?45bf","webpack:///src/pages/Singer.vue","webpack:///./src/pages/Singer.vue?be2a","webpack:///./src/pages/Singer.vue","webpack:///./src/pages/Singer.vue?2871","webpack:///./src/network/singer/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_l","item","index","key","class","id","type","on","$event","_v","_s","area","initial","directives","name","rawName","value","expression","goSingerDetail","limit","total","handleCurrentChange","_e","staticRenderFns","data","typeList","areaList","initialList","artists","page","paginationShow","watch","getSingerList","created","methods","$router","push","component","req_singer","context","params","require","singerList","req_singerMv","singerMv","req_singerDesc","singerDesc","req_singerAlbum","singerAlbum"],"mappings":"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","file":"js/chunk-ecab1de8.a5d0c547.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"singer\"}},[_c('div',{staticClass:\"music-container\"},[_c('div',{staticClass:\"option\"},[_c('div',{staticClass:\"type-list\"},_vm._l((_vm.typeList),function(item,index){return _c('div',{key:index,class:['item', item.id==_vm.type? 'active': ''],on:{\"click\":function($event){_vm.type=item.id}}},[_vm._v(_vm._s(item.type))])}),0),_c('div',{staticClass:\"arrea-list\"},_vm._l((_vm.areaList),function(item,index){return _c('div',{key:index,class:['item', item.id==_vm.area? 'active' : ''],on:{\"click\":function($event){_vm.area=item.id}}},[_vm._v(_vm._s(item.area))])}),0),_c('div',{staticClass:\"initial-list\"},_vm._l((_vm.initialList),function(item,index){return _c('div',{key:index,class:['item', item==_vm.initial? 'active' : ''],on:{\"click\":function($event){_vm.initial=item}}},[_vm._v(_vm._s(item))])}),0)]),_c('div',{staticClass:\"singer-list\"},[_c('div',{staticClass:\"singer-container\"},_vm._l((_vm.artists),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"alt\":\"\"}}),_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"name\",on:{\"click\":function($event){return _vm.goSingerDetail(item.id, item.name)}}},[_vm._v(_vm._s(item.name))])])])}),0),(_vm.paginationShow)?_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":true,\"layout\":\"total, prev, pager, next ,jumper\",\"page-size\":_vm.limit,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"singer\">\r\n        <div class=\"music-container\">\r\n            <!-- 选项 -->\r\n            <div class=\"option\">\r\n                <div class=\"type-list\">\r\n                   <div :class=\"['item', item.id==type? 'active': '']\" v-for=\"(item, index) in typeList\" :key=\"index\" @click=\"type=item.id\">{{item.type}}</div>\r\n                </div>\r\n                <div class=\"arrea-list\">\r\n                    <div :class=\"['item', item.id==area? 'active' : '']\" v-for=\"(item, index) in areaList\" :key=\"index\" @click=\"area=item.id\">{{item.area}}</div>\r\n                </div>\r\n                <div class=\"initial-list\">\r\n                    <div :class=\"['item', item==initial? 'active' : '']\" v-for=\"(item, index) in initialList\" :key=\"index\" @click=\"initial=item\">{{item}}</div>\r\n                </div>\r\n            </div>\r\n            <!-- 主体 -->\r\n            <div class=\"singer-list\">\r\n                <!-- 歌手列表 -->\r\n                <div class=\"singer-container\">\r\n                    <div class=\"item\" v-for=\"(item, index) in artists\" :key=\"index\">\r\n                        <img v-lazy=\"item.picUrl\" alt=\"\">\r\n                        <div class=\"mask\">\r\n                            <div class=\"name\" @click=\"goSingerDetail(item.id, item.name)\">{{item.name}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- 分页器 -->\r\n                <div class=\"pagination\" v-if=\"paginationShow\">\r\n                    <el-pagination :background=\"true\" layout=\"total, prev, pager, next ,jumper\" :page-size=\"limit\" :total=\"total\" @current-change=\"handleCurrentChange\"></el-pagination>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { req_singer } from \"../network/singer/index.js\";\r\nexport default {\r\n  name: \"Singer\",\r\n  data() {\r\n    return {\r\n      // 当前选择\r\n      type: -1,\r\n      area: -1,\r\n      initial: \"a\",\r\n\r\n      // 歌手类型\r\n      typeList: [\r\n        { id: -1, type: \"全部\" },\r\n        { id: 1, type: \"男歌手\" },\r\n        { id: 2, type: \"女歌手\" },\r\n        { id: 3, type: \"乐队\" },\r\n      ],\r\n      // 歌手地区\r\n      areaList: [\r\n        { id: -1, area: \"全部\" },\r\n        { id: 7, area: \"华语\" },\r\n        { id: 96, area: \"欧美\" },\r\n        { id: 8, area: \"日本\" },\r\n        { id: 16, area: \"韩国\" },\r\n        { id: 0, area: \"其他\" },\r\n      ],\r\n      // 歌手名（首字母）\r\n      initialList: [\r\n        \"a\",\r\n        \"b\",\r\n        \"c\",\r\n        \"d\",\r\n        \"e\",\r\n        \"f\",\r\n        \"g\",\r\n        \"h\",\r\n        \"i\",\r\n        \"j\",\r\n        \"k\",\r\n        \"l\",\r\n        \"m\",\r\n        \"n\",\r\n        \"o\",\r\n        \"p\",\r\n        \"q\",\r\n        \"r\",\r\n        \"s\",\r\n        \"t\",\r\n        \"u\",\r\n        \"v\",\r\n        \"w\",\r\n        \"x\",\r\n        \"y\",\r\n        \"z\",\r\n      ],\r\n      \r\n      // 歌手列表 \r\n      artists: [],\r\n      limit: 30,\r\n      total: 900,\r\n      page: 0,\r\n      \r\n      // 分页器\r\n      paginationShow: false,\r\n    };\r\n  },\r\n  watch: {\r\n    type: function() {\r\n      this.getSingerList();\r\n    },\r\n    area: function() {\r\n      this.getSingerList();\r\n    },\r\n    initial: function() {\r\n      this.getSingerList();\r\n    },\r\n  },\r\n  created() {\r\n    this.getSingerList();\r\n  },\r\n  methods: {\r\n    // 请求歌手列表\r\n    getSingerList() {\r\n\r\n      // 计算跳过多少数量\r\n      let offset;\r\n      if(this.page == 0) {\r\n          // 排除第一次请求（页面初始化）\r\n          offset = 0;\r\n      }else {\r\n          offset = this.limit * (this.page - 1);\r\n      }\r\n    \r\n      req_singer(this, {\r\n          area: this.area,\r\n          type: this.type,\r\n          initial: this.initial,\r\n          offset,\r\n          limit: this.limit,\r\n      }).then(res => {\r\n          this.artists = res.artists;\r\n          this.page++;\r\n          this.paginationShow = true;\r\n        })\r\n        .catch(error => {\r\n          console.log(\"请求歌手列表可能出现错误\",error);\r\n        });\r\n    },\r\n    // 处理分页器\r\n    handleCurrentChange(newPage) {\r\n         this.page = newPage;\r\n         this.getSingerList();\r\n    },\r\n    goSingerDetail(id, name) {\r\n      this.$router.push({\r\n      path: `/singerDetail/${new Date().getTime()}`,\r\n      query: {\r\n        id,\r\n        name,\r\n      }\r\n    })\r\n   },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"../assets/scss/music.scss\";\r\n#singer {\r\n  .music-container {\r\n    width: 1000px;\r\n    .option {\r\n      margin-top: 20px;\r\n      .type-list {\r\n        @include flex(flex-start);\r\n        .item {\r\n          padding: 10px 12px;\r\n          text-align: center;\r\n          @include font(16px, 20px, $colorC);\r\n          cursor: pointer;\r\n          margin-right: 12px;\r\n          border-radius: 20px;\r\n        }\r\n        .active {\r\n          background-color: $colorA;\r\n          color: $colorD;\r\n        }\r\n      }\r\n      .arrea-list {\r\n        @include flex(flex-start);\r\n        margin: 12px 0px;\r\n        .item {\r\n          cursor: pointer;\r\n          padding: 10px 12px;\r\n          text-align: center;\r\n          margin-right: 12px;\r\n          border-radius: 20px;\r\n          @include font(16px, 20px, $colorC);\r\n        }\r\n        .active {\r\n          background-color: $colorA;\r\n          color: $colorD;\r\n        }\r\n      }\r\n      .initial-list {\r\n        @include flex(flex-start);\r\n        .item {\r\n          cursor: pointer;\r\n          padding: 10px 12px;\r\n        }\r\n        .active {\r\n          background-color: $colorA;\r\n          color: $colorD;\r\n        }\r\n      }\r\n    }\r\n    .singer-list {\r\n      margin-top: 30px;\r\n      .singer-container {\r\n        @include flex();\r\n        flex-wrap: wrap;\r\n        .item {\r\n          position: relative;\r\n          width: 160px;\r\n          height: 160px;\r\n          margin-bottom: 12px;\r\n          img {\r\n            display: block;\r\n            width: 100%;\r\n            height: 160px;\r\n          }\r\n          .mask {\r\n            @include position();\r\n            background-color: rgba($color: #000000, $alpha: 0.4);\r\n            z-index: 2;\r\n            @include flex(center, center);\r\n            opacity: 0;\r\n            .name {\r\n              width: 100px;\r\n              height: 20px;\r\n              line-height: 20px;\r\n              @include fontHidden();\r\n              text-align: center;\r\n              border-radius: 12px;\r\n              border: 2px solid $colorA;\r\n              color: $colorD;\r\n              cursor: pointer;\r\n              &:hover {\r\n                color: $colorA;\r\n                background-color: $colorD;\r\n              }\r\n            }\r\n          }\r\n          &:hover {\r\n            .mask {\r\n              opacity: 1;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .pagination {\r\n        @include flex(center);\r\n        margin-top: 20px;\r\n        // 修改分页器的颜色\r\n        .el-pagination.is-background .el-pager li:not(.disabled).active {\r\n          background-color: $colorA;\r\n          color: $colorD;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Singer.vue?vue&type=template&id=2271a5f4&\"\nimport script from \"./Singer.vue?vue&type=script&lang=js&\"\nexport * from \"./Singer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Singer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=style&index=0&lang=scss&\"","import { require } from \"../require\";\r\nimport { singerList, singerMv, singerDesc, singerAlbum} from \"../url\";\r\n\r\n/**\r\n * 获取歌手列表 singer\r\n */\r\nfunction req_singer(context, params) {\r\n    return require(singerList, params, context);\r\n}\r\n/**\r\n * 获取歌手 MV\r\n */\r\nfunction req_singerMv(context, params) {\r\n    return require(singerMv, params, context);\r\n}\r\n\r\n/**\r\n * 获取歌手介绍\r\n */\r\nfunction req_singerDesc(context, params) {\r\n    return require(singerDesc, params, context);\r\n}\r\n\r\n/**\r\n * 获取歌手专辑\r\n */\r\nfunction req_singerAlbum(context, params) {\r\n    return require(singerAlbum, params, context);\r\n}\r\nexport {\r\n    req_singer,\r\n    req_singerAlbum,\r\n    req_singerMv,\r\n    req_singerDesc\r\n}"],"sourceRoot":""}