(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-580a709a"],{"32bb":function(t,n,i){"use strict";i.d(n,"b",(function(){return s})),i.d(n,"a",(function(){return c}));var e=i("e760"),a=i("4c8d");function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["q"],n,t)}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["k"],n,t)}},"335e":function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"MvDetail"}},[i("div",{staticClass:"bgmask"}),i("div",{staticClass:"bg",style:{"background-image":"url("+t.cover+")","background-color":"rgb(255,255,255)"}}),i("div",{staticClass:"video-container"},[i("div",{staticClass:"music-container"},[i("video",{attrs:{src:t.mvUrl.url,controls:"",autoplay:"autoplay"}}),i("div",{staticClass:"video-info"},[i("div",{staticClass:"name"},[t._v(t._s(t.mvDetail.name)+" - "+t._s(t.mvDetail.artistName))]),i("div",{staticClass:"count"},[t._v("播放量："+t._s(t.mvDetail.playCount))])])])]),i("div",{staticClass:"music-container"},[i("div",{staticClass:"similarMv"},[i("h3",[t._v("大家都爱看")]),i("div",{staticClass:"mv-content"},t._l(t.similarMvList,(function(t,n){return i("mv-item",{key:n,staticClass:"item",attrs:{mvId:t.id,cover:t.cover,name:t.name,artistName:t.artistName,artists:t.artists,playCount:t.playCount}})})),1)]),i("div",{staticClass:"mv-info"},[i("div",{staticClass:"info-header"},[i("h3",[t._v("视频简介")]),i("div",{staticClass:"singer"},[t._l(t.mvDetail.artists,(function(n,e){return i("span",{key:e},[t._v(t._s(n.name)+" ")])})),i("span",[t._v("发行时间："+t._s(t.mvDetail.publishTime))])],2)]),i("p",{staticClass:"desc"},[t._v(t._s(t.mvDetail.desc))])]),i("comment-input",{attrs:{count:t.mvDetail.commentCount}}),t._l(t.commentList,(function(t,n){return i("comment",{key:n,staticClass:"item",attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,time:t.time}})}))],2)])},a=[],s=(i("aa0c"),i("bbb8"),i("4789"),i("6912")),c=i("32bb"),r=i("7a1c"),o=i("abb2"),u=i("652a"),l=i("7c27"),m={name:"Mv",components:{commentInput:o["a"],comment:u["a"],mvItem:l["a"]},data:function(){return{domObj:[],id:this.$route.query.id,mvUrl:{},mvDetail:{},cover:"",similarMvList:[],commentList:[],page:0,commentNum:20}},watch:{mvDetail:function(){var t=r["a"]._tranNumber(this.mvDetail.playCount,2);this.mvDetail.playCount=t},similarMvList:function(){this.similarMvList.forEach((function(t,n,i){var e=r["a"]._tranNumber(t.playCount,2);i[n].playCount=e}))},commentList:function(){this.commentList.forEach((function(t,n,i){var e=r["a"]._tranDate(t.time);i[n].time=e}))}},created:function(){this.getMvUrl(),this.getsimilarMv(),this.getMvDetail(),this.getMvComment()},mounted:function(){this.init()},methods:{init:function(){var t=this;document.documentElement.scrollTop=0,this.domObj=window,this.domObj.onscroll=function(){var n=document.documentElement.scrollHeight||document.body.scrollHeight,i=t.domObj.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=t.domObj.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;Math.floor(i)+Math.floor(e)==n&&t.getMvComment()}},getMvUrl:function(){var t=this;Object(s["c"])(this,{id:this.id}).then((function(n){t.mvUrl=n.data}))},getsimilarMv:function(){var t=this;Object(s["f"])(this,{mvid:this.id}).then((function(n){t.similarMvList=n.mvs.slice(0,4)}))},getMvDetail:function(){var t=this;Object(s["b"])(this,{mvid:this.id}).then((function(n){t.mvDetail=n.data,t.cover=t.mvDetail.cover}))},getMvComment:function(){var t=this;Object(c["a"])(this,{id:this.id,limit:this.commentNum,offset:this.page*this.commentNum}).then((function(n){t.commentList=t.commentList.concat(n.comments),t.page++}))},goMv:function(t){this.$router.push({path:"/mvdetail/".concat((new Date).getTime()),query:{id:t}})}},beforeDestroy:function(){this.domObj.onscroll=null}},v=m,d=(i("85ed"),i("cba8")),f=Object(d["a"])(v,e,a,!1,null,null,null);n["default"]=f.exports},5534:function(t,n,i){"use strict";i("a44d")},"652a":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"comment"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avatarUrl,expression:"avatarUrl"}],attrs:{alt:""}}),i("div",{staticClass:"content"},[i("div",{staticClass:"left"},[i("div",{staticClass:"nickName"},[t._v(t._s(t.nickname))]),i("div",{staticClass:"text"},[t._v(" "+t._s(t.content))])]),i("div",{staticClass:"time"},[t._v(" "+t._s(t.time))])])])},a=[],s={name:"comment",props:{avatarUrl:String,nickname:String,content:String,time:String},methods:{}},c=s,r=(i("5534"),i("cba8")),o=Object(r["a"])(c,e,a,!1,null,null,null);n["a"]=o.exports},6912:function(t,n,i){"use strict";i.d(n,"d",(function(){return s})),i.d(n,"c",(function(){return c})),i.d(n,"f",(function(){return r})),i.d(n,"b",(function(){return o})),i.d(n,"a",(function(){return u})),i.d(n,"e",(function(){return l}));var e=i("e760"),a=i("4c8d");function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["o"],n,t)}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["n"],n,t)}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["u"],n,t)}function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["l"],n,t)}function u(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["f"],n,t)}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(e["a"])(a["m"],n,t)}},7443:function(t,n,i){"use strict";i("cacf")},"7c27":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"mv-item",on:{click:function(n){return t.goMvDetail(t.mvId)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"cover"}],attrs:{alt:""}}),i("p",{staticClass:"name",on:{click:function(n){return t.goMvDetail(t.mvId)}}},[t._v(t._s(t.name)+" / "+t._s(t.artistName))]),i("div",{staticClass:"artists"},t._l(t.artists,(function(n,e){return i("span",{key:e,staticClass:"artist",on:{click:function(i){return i.stopPropagation(),t.goSingerDetail(n.id,n.name)}}},[t._v(t._s(n.name))])})),0),i("div",{staticClass:"mask"},[i("div",{staticClass:"count"},[t._v("播放量 "+t._s(t.playCount))])])])},a=[],s=(i("3828"),{name:"playList-item",props:{mvId:Number,cover:String,name:String,artistName:String,artists:Array,playCount:String},watch:{},methods:{goMvDetail:function(t){this.$router.push({path:"/mvdetail/".concat((new Date).getTime()),query:{id:t}})},goSingerDetail:function(t,n){this.$router.push({path:"/singerDetail/".concat((new Date).getTime()),query:{id:t,name:n}})}}}),c=s,r=(i("7443"),i("cba8")),o=Object(r["a"])(c,e,a,!1,null,null,null);n["a"]=o.exports},"85ed":function(t,n,i){"use strict";i("aa71")},"8bdb":function(t,n,i){"use strict";i("9f96")},"9f96":function(t,n,i){},a44d:function(t,n,i){},aa71:function(t,n,i){},abb2:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"comment-input"},[i("div",{staticClass:"comment-header"},[i("span",[t._v("评论")]),i("span",[t._v("共有"+t._s(t.count)+"条评论")])]),t._m(0)])},a=[function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"content"},[i("textarea",{attrs:{name:"",id:"",rows:"4",placeholder:"说说您的想法吧"}}),i("button",{staticClass:"btn"},[t._v("发表评论")])])}],s=(i("3828"),{name:"commentInput",props:{count:Number}}),c=s,r=(i("8bdb"),i("cba8")),o=Object(r["a"])(c,e,a,!1,null,null,null);n["a"]=o.exports},cacf:function(t,n,i){}}]);
//# sourceMappingURL=chunk-580a709a.e753a9d8.js.map