(function(e){function t(t){for(var i,a,u=t[0],c=t[1],s=t[2],l=0,d=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},a={app:0},r={app:0},o=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-03cc3d88":"ecfe8cfe","chunk-59825f3e":"2af00dea","chunk-9c9b0758":"dbbe8791","chunk-02e841bc":"663d6d91","chunk-3124976d":"e2994892","chunk-3f955cd6":"fcdfd7ac","chunk-580a709a":"e753a9d8","chunk-5cf863da":"2c265b2f","chunk-742ddbeb":"e0f68c32","chunk-9cce1f40":"301168f1"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-03cc3d88":1,"chunk-59825f3e":1,"chunk-02e841bc":1,"chunk-3124976d":1,"chunk-3f955cd6":1,"chunk-580a709a":1,"chunk-5cf863da":1,"chunk-742ddbeb":1,"chunk-9cce1f40":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var i="css/"+({}[e]||e)+"."+{"chunk-03cc3d88":"703e29d3","chunk-59825f3e":"825fea60","chunk-9c9b0758":"31d6cfe0","chunk-02e841bc":"2256df16","chunk-3124976d":"67cd75fa","chunk-3f955cd6":"f9816f90","chunk-580a709a":"11d0b3c6","chunk-5cf863da":"4cba6f17","chunk-742ddbeb":"3a3d10d0","chunk-9cce1f40":"f38725c7"}[e]+".css",r=c.p+i,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===i||l===r))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===i||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,n){i=r[e]=[t,n]}));t.push(i[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",d.name="ChunkLoadError",d.type=i,d.request=a,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"13eb":function(e,t,n){"use strict";n("7abe")},2603:function(e,t,n){"use strict";n("9428")},"4c8d":function(e,t,n){"use strict";n.d(t,"q",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"u",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"x",(function(){return p})),n.d(t,"g",(function(){return y})),n.d(t,"C",(function(){return w})),n.d(t,"d",(function(){return P})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return L})),n.d(t,"p",(function(){return C})),n.d(t,"z",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"e",(function(){return j})),n.d(t,"A",(function(){return O})),n.d(t,"j",(function(){return x})),n.d(t,"B",(function(){return E})),n.d(t,"m",(function(){return m})),n.d(t,"y",(function(){return v})),n.d(t,"w",(function(){return b})),n.d(t,"v",(function(){return k})),n.d(t,"t",(function(){return F})),n.d(t,"a",(function(){return D})),n.d(t,"h",(function(){return i})),n.d(t,"s",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"D",(function(){return o})),n.d(t,"E",(function(){return u}));var i="/login/qr/key",a="/login/qr/create",r="/login/qr/check",o="/user/account",u="/user/playlist",c="/comment/playlist",s="/comment/mv",l="/mv/first",d="/mv/url",f="/simi/mv",h="/mv/detail",g="/personalized/mv",m="/top/mv",p="/artist/list",v="/artist/mv",b="/artist/desc",k="/artist/top/song",y="/personalized",w="/top/playlist",P="/top/playlist/highquality",_="/top/album",L="/personalized/privatecontent",C="/playlist/detail",S="/song/detail",T="/playlist/subscribers",j="/toplist",O="song/url",x="/lyric",D="/check/music",F="/cloudsearch",E="/banner"},"56d7":function(e,t,n){"use strict";n.r(t);n("21ad"),n("59d3"),n("48f2"),n("1176"),n("0b10");var i=n("430a"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.$route.fullPath,attrs:{id:"app"}},[n("router-view"),n("loading",{attrs:{flag:e.isloading}})],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.flag?n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"dot"}),n("div",{staticClass:"dot"}),n("div",{staticClass:"dot"}),n("div",{staticClass:"dot"}),n("div",{staticClass:"dot"})]):e._e()},u=[],c={name:"Loading",props:{flag:Boolean}},s=c,l=(n("13eb"),n("cba8")),d=Object(l["a"])(s,o,u,!1,null,null,null),f=d.exports,h={name:"App",components:{loading:f},data:function(){return{isloading:this.$store.state.loading}},mounted:function(){},methods:{},watch:{"$store.state.loading":function(){this.isloading=this.$store.state.loading}}},g=h,m=(n("5c0b"),Object(l["a"])(g,a,r,!1,null,null,null)),p=m.exports,v=n("86ea"),b=n.n(v),k=n("7736"),y={saveLoadingFlag:function(e,t){e.loading=t},saveMusicPrograss:function(e,t){e.musicPrograss=t},saveMusicLoading:function(e,t){e.musicLoading=t},savePlay:function(e,t){e.play=t}},w={saveLoadingFlag:function(e,t){e.commit("saveLoadingFlag",t)},saveMusicPrograss:function(e,t){e.commit("saveMusicPrograss",t)},saveMusicLoading:function(e,t){e.commit("saveMusicLoading",t)},savePlay:function(e,t){e.commit("savePlay",t)}};i["default"].use(k["a"]);var P={loading:!0,musicPrograss:!1,musicLoading:"",play:!1},_=new k["a"].Store({state:P,mutations:y,actions:w}),L=n("697a"),C=n("5422"),S=(n("e9b7"),n("2806"),n("bb8c"),n("a5e4")),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav-header",{attrs:{flag:e.isSticky,userFlag:e.userFlag}}),n("router-view")],1)},j=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.flag?"sticky":""],attrs:{id:"header"}},[n("div",{staticClass:"music-container"},[e.loginFlag?e._e():n("div",{staticClass:"login",on:{click:e.login}},[e._v("登录")]),e.loginFlag?n("div",{staticClass:"user"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.user.avatarUrl,expression:"user.avatarUrl"}],attrs:{alt:""}}),n("span",{staticClass:"nick-name"},[e._v(e._s(e.user.nickname))]),n("div",{staticClass:"detail"},[n("div",{staticClass:"detail-container"},e._l(e.user.user_PlayList,(function(t,i){return n("span",{key:i,on:{click:function(n){return e.getPlayDetail(t.id)}}},[e._v(e._s(t.name))])})),0)])]):e._e(),n("ul",{staticClass:"header-container"},[n("li",{staticClass:"item",on:{click:function(t){return e.goIndex()}}},[e._v("首页")]),n("li",{staticClass:"item",on:{click:function(t){return e.goSinger()}}},[e._v("歌手")]),n("li",{staticClass:"item",on:{click:function(t){return e.goRank()}}},[e._v("排行版")]),n("li",{staticClass:"item",on:{click:function(t){return e.goTV()}}},[e._v("电台")]),n("li",{staticClass:"item",on:{click:function(t){return e.goMv()}}},[e._v("MV")])])]),n("el-dialog",{attrs:{title:"网易云音乐APP扫码",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.qrUrl,expression:"qrUrl"}]})])],1)},x=[],D=(n("3828"),n("e760")),F=n("4c8d");function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(D["a"])(F["h"],t,e)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(D["a"])(F["s"],t,e)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(D["a"])(F["i"],t,e)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(D["a"])(F["D"],t,e)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(D["a"])(F["E"],t,e)}var I={name:"NavHeader",props:{flag:Boolean,userFlag:Number},data:function(){return{unikey:"",qrUrl:"",id:0,dialogTableVisible:!1,cookie:"",loginFlag:!1,user:{avatarUrl:"",nickname:"",userId:0,user_PlayList:[]}}},watch:{cookie:function(){this.getUserDetail()},dialogTableVisible:function(){this.dialogTableVisible||clearInterval(this.id)},userFlag:{handler:function(){this.init()},immediate:!0}},methods:{init:function(){console.log("触发");var e=!!window.localStorage.getItem("loginFlag");e?(this.loginFlag=!0,this.user=JSON.parse(window.localStorage.getItem("user"))):this.loginFlag=!1},goIndex:function(){this.$router.push({path:"/index"})},goMv:function(){this.$router.push({path:"/mv/".concat((new Date).getTime())})},goSinger:function(){this.$router.push({path:"/singer/".concat((new Date).getTime())})},goRank:function(){this.$router.push({path:"/rank/".concat((new Date).getTime())})},goTV:function(){this.$message({showClose:!0,message:"未开发",type:"success"})},login:function(){var e=this,t=(new Date).getTime();E(this,{timerstamp:t}).then((function(t){e.unikey=t.data.unikey,e.getQr(),e.getLogin_State()}))},getQr:function(){var e=this;M(this,{key:this.unikey,qrimg:!0,timerstamp:(new Date).getTime()}).then((function(t){e.qrUrl=t.data.qrimg,e.dialogTableVisible=!0}))},getLogin_State:function(){var e=this;this.id=setInterval((function(){$(e,{key:e.unikey,timerstamp:(new Date).getTime()}).then((function(t){803==t.code&&(clearInterval(e.id),e.dialogTableVisible=!1,e.cookie=t.cookie)}))}),1e3)},getUserDetail:function(){var e=this;q(this).then((function(t){e.user.userId=t.account.id,e.user.avatarUrl=t.profile.avatarUrl,e.user.nickname=t.profile.nickname,e.getUserPlayList()}))},getUserPlayList:function(){var e=this;U(this,{uid:this.user.userId}).then((function(t){e.user.user_PlayList=t.playlist,e.loginFlag=!0,window.localStorage.setItem("user",JSON.stringify(e.user)),window.localStorage.setItem("loginFlag",e.loginFlag)}))},getPlayDetail:function(e){this.$router.push({path:"/playListDetail/".concat((new Date).getTime()),query:{id:e}})}}},N=I,V=(n("2603"),Object(l["a"])(N,O,x,!1,null,null,null)),A=V.exports,z={name:"Home",components:{navHeader:A},data:function(){return{isSticky:!1,userFlag:0}},watch:{$route:{handler:function(){this.userFlag=Math.random()},immediate:!0}},mounted:function(){window.addEventListener("scroll",this.menu)},methods:{menu:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;this.isSticky=e>175}}},B=z,H=Object(l["a"])(B,T,j,!1,null,null,null),J=H.exports;i["default"].use(S["a"]);var R=new S["a"]({routes:[{path:"/",name:"home",component:J,redirect:"/index",children:[{path:"/index",name:"Index",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-3f955cd6")]).then(n.bind(null,"8b24"))}},{path:"/mvdetail/:time",name:"MVDetail",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-580a709a")]).then(n.bind(null,"335e"))}},{path:"/playListDetail/:time",name:"PlayListDetail",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-02e841bc")]).then(n.bind(null,"8e8b"))}},{path:"/mv/:time",name:"Mv",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-3124976d")]).then(n.bind(null,"d8cf"))}},{path:"/singer/:time",name:"Singer",component:function(){return n.e("chunk-03cc3d88").then(n.bind(null,"1409"))}},{path:"/rank/:time",name:"Rank",component:function(){return n.e("chunk-59825f3e").then(n.bind(null,"9c42"))}},{path:"/playList/:time",name:"PlayList",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-9cce1f40")]).then(n.bind(null,"c0a7"))}},{path:"/singerDetail/:time",name:"SingerDetail",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-5cf863da")]).then(n.bind(null,"75ca"))}}]},{path:"/song/:time",name:"Song",component:function(){return Promise.all([n.e("chunk-9c9b0758"),n.e("chunk-742ddbeb")]).then(n.bind(null,"4eed"))}}]}),Q=R;i["default"].use(C["Pagination"]),i["default"].use(C["Dialog"]),i["default"].prototype.$message=C["Message"],i["default"].config.productionTip=!1,i["default"].prototype.axios=b.a,b.a.defaults.withCredentials=!0,b.a.defaults.baseURL="https://cloud-music-api-sandy.vercel.app/",b.a.interceptors.request.use((function(e){return"/login/qr/check"!=e.url&&_.dispatch("saveLoadingFlag",!0),e}),(function(e){return Promise.reject(e)})),b.a.interceptors.response.use((function(e){var t=e.status;return 200===t?(_.dispatch("saveLoadingFlag",!1),Promise.resolve(e.data)):Promise.reject(e.status)})),i["default"].use(L["a"],{loading:"/img/loading-svg/loading-bars.svg"}),new i["default"]({store:_,render:function(e){return e(p)},router:Q}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("7df9")},"7abe":function(e,t,n){},"7df9":function(e,t,n){},9428:function(e,t,n){},e760:function(e,t,n){"use strict";function i(e,t,n){return n.axios.get(e,{params:t})}n.d(t,"a",(function(){return i}))}});
//# sourceMappingURL=app.22182f13.js.map