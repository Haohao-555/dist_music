(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4eec40c"],{1054:function(t,n){var e=1..valueOf;t.exports=function(t){return e.call(t)}},"32bb":function(t,n,e){"use strict";e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return r}));var a=e("e760"),i=e("4c8d");function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["m"],n,t)}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["h"],n,t)}},"335e":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"MvDetail"}},[e("div",{staticClass:"video-container"},[e("div",{staticClass:"music-container"},[e("video",{attrs:{src:t.mvUrl.url,controls:"",autoplay:"autoplay"}}),e("div",{staticClass:"video-info"},[e("div",{staticClass:"name"},[t._v(t._s(t.mvDetail.name)+" - "+t._s(t.mvDetail.artistName))]),e("div",{staticClass:"count"},[t._v("播放量："+t._s(t.mvDetail.playCount))])])])]),e("div",{staticClass:"music-container"},[e("div",{staticClass:"similarMv"},[e("h3",[t._v("大家都爱看")]),e("div",{staticClass:"mv-content"},t._l(t.similarMv,(function(n,a){return e("div",{key:a,staticClass:"item",on:{click:function(e){return t.goMv(n.id)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.cover,expression:"item.cover"}],attrs:{alt:""}}),e("div",{staticClass:"mv-name"},[t._v(t._s(n.name)+" - "+t._s(n.artistName))]),e("div",{staticClass:"mask"},[e("div",{staticClass:"count"},[t._v("播放量 "+t._s(n.playCount))])])])})),0)]),e("div",{staticClass:"mv-info"},[e("div",{staticClass:"info-header"},[e("h3",[t._v("视频简介")]),e("div",{staticClass:"singer"},[t._l(t.mvDetail.artists,(function(n,a){return e("span",{key:a},[t._v(t._s(n.name)+" ")])})),e("span",[t._v("发行时间："+t._s(t.mvDetail.publishTime))])],2)]),e("p",{staticClass:"desc"},[t._v(t._s(t.mvDetail.desc))])]),e("comment-input",{attrs:{count:t.mvDetail.commentCount}}),t._l(t.commentList,(function(t,n){return e("comment",{key:n,staticClass:"item",attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,time:t.time}})}))],2)])},i=[],s=(e("4789"),e("aa0c"),e("6912")),r=e("32bb"),c=e("7a1c"),o=e("abb2"),u=e("652a"),l={name:"Mv",components:{commentInput:o["a"],comment:u["a"]},data:function(){return{domObj:[],id:this.$route.query.id,mvUrl:{},similarMv:[],mvDetail:{},commentList:[],page:0,commentNum:20}},methods:{init:function(){var t=this;document.documentElement.scrollTop=0,this.domObj=window,this.domObj.onscroll=function(){var n=document.documentElement.scrollHeight||document.body.scrollHeight,e=t.domObj.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=t.domObj.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e+Math.ceil(a)==n&&t.getMvComment()}},getMvUrl:function(){var t=this;this.$store.dispatch("saveLoadingFlag",!0);var n={id:this.id};Object(s["c"])(this,n).then((function(n){t.mvUrl=n.data,t.$store.dispatch("saveLoadingFlag",!1)}))},getsimilarMv:function(){var t=this;this.$store.dispatch("saveLoadingFlag",!0);var n={mvid:this.id};Object(s["e"])(this,n).then((function(n){t.similarMv=n.mvs,t.$store.dispatch("saveLoadingFlag",!1)}))},getMvDetail:function(){var t=this;this.$store.dispatch("saveLoadingFlag",!0);var n={mvid:this.id};Object(s["b"])(this,n).then((function(n){t.mvDetail=n.data,t.$store.dispatch("saveLoadingFlag",!1)}))},getMvComment:function(){var t=this;this.$store.dispatch("saveLoadingFlag",!0);var n={id:this.id,limit:this.commentNum,offset:this.page*this.commentNum};Object(r["a"])(this,n).then((function(n){t.$store.dispatch("saveLoadingFlag",!1),t.commentList=t.commentList.concat(n.comments),t.page++}))},goMv:function(t){console.log(t);var n=(new Date).getTime();this.$router.push({path:"/mvdetail/".concat(n),query:{id:t}})}},watch:{mvDetail:function(){var t=c["a"]._tranNumber(this.mvDetail.playCount,2);this.mvDetail.playCount=t},similarMv:function(){this.similarMv.forEach((function(t,n,e){var a=c["a"]._tranNumber(t.playCount,2);e[n].playCount=a}))},commentList:function(){this.commentList.forEach((function(t,n,e){var a=c["a"]._tranDate(t.time);e[n].time=a}))}},created:function(){this.getMvUrl(),this.getsimilarMv(),this.getMvDetail(),this.getMvComment()},mounted:function(){this.init()},beforeDestroy:function(){this.domObj.onscroll=null}},m=l,v=(e("85ed"),e("cba8")),d=Object(v["a"])(m,a,i,!1,null,null,null);n["default"]=d.exports},3828:function(t,n,e){"use strict";var a=e("73ad"),i=e("a402"),s=e("b203"),r=e("b13f"),c=e("fd33"),o=e("a20b"),u=e("4c60"),l=e("a851"),m=e("204f"),v=e("2532").f,d=e("b32c").f,f=e("0fe9").f,h=e("1054"),p=e("4bcb").trim,b="Number",g=i[b],_=g.prototype,C=function(t){var n=l(t,"number");return"bigint"===typeof n?n:N(n)},N=function(t){var n,e,a,i,s,r,c,o,m=l(t,"number");if(u(m))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof m&&m.length>2)if(m=p(m),n=m.charCodeAt(0),43===n||45===n){if(e=m.charCodeAt(2),88===e||120===e)return NaN}else if(48===n){switch(m.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+m}for(s=m.slice(2),r=s.length,c=0;c<r;c++)if(o=s.charCodeAt(c),o<48||o>i)return NaN;return parseInt(s,a)}return+m};if(s(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,E=function(t){var n=arguments.length<1?0:g(C(t)),e=this;return e instanceof E&&m((function(){h(e)}))?o(Object(n),e,E):n},O=a?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),M=0;O.length>M;M++)c(g,y=O[M])&&!c(E,y)&&f(E,y,d(g,y));E.prototype=_,_.constructor=E,r(i,b,E)}},"4bcb":function(t,n,e){var a=e("c499"),i=e("69a8"),s=e("f8bc"),r="["+s+"]",c=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),u=function(t){return function(n){var e=i(a(n));return 1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(o,"")),e}};t.exports={start:u(1),end:u(2),trim:u(3)}},5534:function(t,n,e){"use strict";e("a44d")},"652a":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"comment"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avatarUrl,expression:"avatarUrl"}],attrs:{alt:""}}),e("div",{staticClass:"content"},[e("div",{staticClass:"left"},[e("div",{staticClass:"nickName"},[t._v(t._s(t.nickname))]),e("div",{staticClass:"text"},[t._v(" "+t._s(t.content))])]),e("div",{staticClass:"time"},[t._v(" "+t._s(t.time))])])])},i=[],s={name:"comment",props:{avatarUrl:String,nickname:String,content:String,time:String}},r=s,c=(e("5534"),e("cba8")),o=Object(c["a"])(r,a,i,!1,null,null,null);n["a"]=o.exports},6912:function(t,n,e){"use strict";e.d(n,"d",(function(){return s})),e.d(n,"c",(function(){return r})),e.d(n,"e",(function(){return c})),e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return u}));var a=e("e760"),i=e("4c8d");function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["k"],n,t)}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["j"],n,t)}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["o"],n,t)}function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["i"],n,t)}function u(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(i["e"],n,t)}},"85ed":function(t,n,e){"use strict";e("aa71")},"8bdb":function(t,n,e){"use strict";e("9f96")},"9f96":function(t,n,e){},a20b:function(t,n,e){var a=e("f6cc"),i=e("ef68"),s=e("54fa");t.exports=function(t,n,e){var r,c;return s&&a(r=n.constructor)&&r!==e&&i(c=r.prototype)&&c!==e.prototype&&s(t,c),t}},a44d:function(t,n,e){},aa71:function(t,n,e){},abb2:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"comment-input"},[e("div",{staticClass:"comment-header"},[e("span",[t._v("评论")]),e("span",[t._v("共有"+t._s(t.count)+"条评论")])]),t._m(0)])},i=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[e("textarea",{attrs:{name:"",id:"",rows:"4",placeholder:"说说您的想法吧"}}),e("button",{staticClass:"btn"},[t._v("发表评论")])])}],s=(e("3828"),{name:"commentInput",props:{count:Number}}),r=s,c=(e("8bdb"),e("cba8")),o=Object(c["a"])(r,a,i,!1,null,null,null);n["a"]=o.exports},f8bc:function(t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-a4eec40c.fbca0411.js.map